(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{386:function(s,n,a){s.exports=a.p+"assets/img/image-20200525115306482.01e124b6.png"},387:function(s,n,a){s.exports=a.p+"assets/img/image-20200525121939542.869ae109.png"},412:function(s,n,a){"use strict";a.r(n);var t=a(54),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"nginx安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx安装"}},[s._v("#")]),s._v(" nginx安装")]),s._v(" "),t("h6",{attrs:{id:"准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[s._v("#")]),s._v(" 准备")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("make zlib zlib-devel gcc-c++ libtool  openssl openssl-devel pcre\n")])])]),t("h6",{attrs:{id:"_1、下载nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载nginx"}},[s._v("#")]),s._v(" 1、下载nginx")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.18.0.tar.gz\n")])])]),t("h6",{attrs:{id:"_2、解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、解压"}},[s._v("#")]),s._v(" 2、解压")]),s._v(" "),t("div",{staticClass:"language-she extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("tar -zxvf nginx-1.18.0.tar.gz\n")])])]),t("h6",{attrs:{id:"_3、配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置"}},[s._v("#")]),s._v(" 3、配置")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.18.0\n./configure --with-http_stub_status_module --with-http_ssl_module\n")])])]),t("p",[s._v("返回的配置信息，维护时可能需要用到")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('nginx path prefix: "/usr/local/nginx"\nnginx binary file: "/usr/local/nginx/sbin/nginx"\nnginx modules path: "/usr/local/nginx/modules"\nnginx configuration prefix: "/usr/local/nginx/conf"\nnginx configuration file: "/usr/local/nginx/conf/nginx.conf"\nnginx pid file: "/usr/local/nginx/logs/nginx.pid"\nnginx error log file: "/usr/local/nginx/logs/error.log"\nnginx http access log file: "/usr/local/nginx/logs/access.log"\nnginx http client request body temporary files: "client_body_temp"\nnginx http proxy temporary files: "proxy_temp"\nnginx http fastcgi temporary files: "fastcgi_temp"\nnginx http uwsgi temporary files: "uwsgi_temp"\nnginx http scgi temporary files: "scgi_temp"\n')])])]),t("h6",{attrs:{id:"_4、编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、编译安装"}},[s._v("#")]),s._v(" 4、编译安装")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("h6",{attrs:{id:"_5、查看版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、查看版本"}},[s._v("#")]),s._v(" 5、查看版本")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" /usr/local/nginx/sbin/nginx -v\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("nginx version: nginx/1.18.0\n")])])]),t("h6",{attrs:{id:"_6、相关命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、相关命令"}},[s._v("#")]),s._v(" 6、相关命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/local/nginx/sbin/nginx "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行")]),s._v("\n/usr/local/nginx/sbin/nginx -s reload "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新载入配置文件")]),s._v("\n/usr/local/nginx/sbin/nginx -s reopen "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 Nginx")]),s._v("\n/usr/local/nginx/sbin/nginx -s stop "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止 Nginx")]),s._v("\n/usr/local/nginx/sbin/nginx -t "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置文件正确性验证")]),s._v("\n")])])]),t("h6",{attrs:{id:"_7、访问测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、访问测试"}},[s._v("#")]),s._v(" 7、访问测试")]),s._v(" "),t("p",[t("img",{attrs:{src:a(386),alt:"image-20200525115306482"}})]),s._v(" "),t("h3",{attrs:{id:"https访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#https访问"}},[s._v("#")]),s._v(" https访问")]),s._v(" "),t("h6",{attrs:{id:"_1、下载证书并放置服务器中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载证书并放置服务器中"}},[s._v("#")]),s._v(" 1、下载证书并放置服务器中")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://help.aliyun.com/document_detail/98728.html?spm=5176.2020520163.0.0.28e556a7FridgV",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里云证书下载及配置文档"),t("OutboundLink")],1)]),s._v(" "),t("h6",{attrs:{id:"_2、修改-usr-local-nginx-conf-nginx-conf配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、修改-usr-local-nginx-conf-nginx-conf配置文件"}},[s._v("#")]),s._v(" 2、修改/usr/local/nginx/conf/nginx.conf配置文件")]),s._v(" "),t("p",[s._v("找到# HTTPS server，进行如下配置")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# HTTPS server\n#\nserver {\n     listen       443 ssl;\n     server_name  shahow.top;\n\n     ssl_certificate      cert/2913461_shahow.top.pem;\n     ssl_certificate_key  cert/2913461_shahow.top.key;\n\n     ssl_session_timeout  5m;\n\n     ssl_ciphers  ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n     ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n     ssl_prefer_server_ciphers  on;\n\n     location / {\n         root   html;\n         index  index.html index.htm;\n    }\n}\n\n#可以在文件的server中，进行重定向将所有http请求通过rewrite重定向到https\n# server {\n#     rewrite ^(.*)$ https://$host$1 permanent\n# }\n")])])]),t("h6",{attrs:{id:"_3、重启nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、重启nginx"}},[s._v("#")]),s._v(" 3、重启nginx")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/local/nginx/sbin/nginx -s reopen "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 Nginx")]),s._v("\n/usr/local/nginx/sbin/nginx "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行")]),s._v("\n")])])]),t("h6",{attrs:{id:"_4、访问测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、访问测试"}},[s._v("#")]),s._v(" 4、访问测试")]),s._v(" "),t("p",[t("img",{attrs:{src:a(387),alt:"image-20200525121939542"}})])])}),[],!1,null,null,null);n.default=e.exports}}]);